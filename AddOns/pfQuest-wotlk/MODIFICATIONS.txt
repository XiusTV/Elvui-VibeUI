================================================================================
                    pfQuest Enhanced - Modifications List
================================================================================

This file documents all modifications made to the original pfQuest addon
by Shagu (https://github.com/shagu/pfQuest).

Original License: GNU GPL v3.0
Modified Version License: GNU GPL v3.0

================================================================================

MODIFIED FILES:
===============

1. config.lua
   - Added tabbed configuration interface
   - Added RESET button with StaticPopup dialogs
   - Enhanced per-character history initialization
   - No reload required for most config changes

2. slashcmd.lua
   - Added /pfquest history check command
   - Added /pfquest history reset command
   - Added /pfquest clean captured command
   - Enhanced /db commands

3. tracker.lua
   - Added "Quest Capture" button to tracker
   - Enhanced tracker UI elements

4. quest.lua
   - Added pfQuestCapture_OnNewQuest hook
   - Integration with capture system

5. database.lua
   - Modified QuestFilter to skip level filter for injected quests (min == 1)
   - Performance optimization for injected quest display

6. route.lua
   - Performance optimizations (reduced update frequency)
   - Smart routing only runs for >3 nodes
   - Limited clean area checks to first 5 quest enders
   - Optimized objective sampling (max 15)
   - Quest giver scoring limited to first 10
   - Increased throttle intervals to reduce CPU usage

7. pfQuest-wotlk.toc
   - Added SavedVariables: pfQuest_InjectedData
   - Added db\captured\quests.lua to load captured quests

NEW FILES ADDED:
================

8. questcapture.lua (NEW - 1800+ lines)
   - Complete automated quest capture system
   - NPC detection with 4 fallback methods
   - Accurate zone ID calculation
   - Objective location tracking
   - Quest item drop tracking
   - Live database injection
   - Capture monitor UI
   - Export functionality
   - Debug commands
   - Event-driven architecture
   - Performance optimized (deferred processing)

9. db\captured\quests.lua (NEW - Auto-generated)
   - Placeholder for captured quest data
   - Generated by external merger tool
   - pfDB-compatible format

EXTERNAL TOOLS ADDED:
=====================

10. pfQuest-Tools\dist\pfQuest Merger Tool.exe (NEW)
    - Standalone Windows application
    - Graphical interface for quest merger
    - No Python required for end users
    - Windows startup integration
    - Settings dialog
    - Activity log
    - Dependency installer

11. pfQuest-Tools\pfquest_merger_gui.py (NEW - Source for .exe)
    - Python/tkinter GUI application
    - Process monitoring
    - SavedVariables parsing
    - Database file generation
    - Configuration management
    - Windows registry integration

12. pfQuest-Tools\Merger via CMD\pfquest_db_merger.py (NEW)
    - Python script for command-line users
    - Process monitoring
    - SavedVariables extraction
    - pfDB format generation
    - Automatic file updates

13. pfQuest-Tools\Merger via EXE\build_exe.py (NEW)
    - PyInstaller build script
    - Dependency checking
    - Automatic .exe generation

14. pfQuest-Tools\Merger via EXE\BUILD_EXE.bat (NEW)
    - One-click .exe build launcher

DOCUMENTATION ADDED:
====================

15. PFQUEST_COMPLETE_GUIDE.md
16. PFQUEST_SETUP_QUICK.md
17. DISTRIBUTION_README.txt
18. DISCORD_POST_SHORT.txt
19. EXE_BUILD_INSTRUCTIONS.md
20. EXE_SUMMARY.md
21. EXE_USER_README.txt
22. Various README.txt files for each folder

================================================================================

KEY ENHANCEMENTS:
=================

QUEST CAPTURE SYSTEM:
---------------------
- Automatic quest detection when accepted
- NPC tracking with multiple detection methods:
  * GOSSIP_SHOW event
  * QUEST_GREETING event
  * PLAYER_TARGET_CHANGED event
  * UPDATE_MOUSEOVER_UNIT event
- Accurate zone ID calculation (name lookup + map detection)
- Objective location tracking during gameplay
- Quest item drop source tracking
- Turn-in NPC capture
- SavedVariables persistence (pfQuest_InjectedData)

DATABASE INTEGRATION:
---------------------
- Live injection into pfDB at runtime
- Persistent storage via external merger
- Proper pfDB format generation
- NPC locale and spawn data
- Quest metadata with min level = 1 (always visible)
- Per-character quest history (SavedVariablesPerCharacter)
- Level filter bypass for injected quests

PERFORMANCE OPTIMIZATIONS:
--------------------------
- Deferred quest processing (0.1-0.2s delay)
- Removed constant NPC monitoring OnUpdate
- Event-driven NPC caching only
- Reduced routing update frequency (2s intervals)
- Increased throttle times (0.15s)
- Smart routing limited calculations:
  * Early exit for <4 nodes
  * Only first 5 quest enders checked for clean areas
  * Only first 15 objectives sampled for average position
  * Only first 10 quest givers scored for detours
- Periodic scan interval increased (3min → 5min)
- Zone lookup optimization (name first, map fallback)

USER INTERFACE:
---------------
- Tabbed configuration window
- RESET button with confirmation dialogs
- Capture monitor UI (resizable)
- Export window with auto-scrolling
- Enhanced tooltips
- Quest Capture button on tracker

EXTERNAL TOOLS:
---------------
- Standalone .exe application (no Python for users)
- GUI with settings dialog
- Activity log with color coding
- Windows startup integration
- Automatic dependency installation
- Path validation and testing
- Build system with dependency checking

================================================================================

GPL v3.0 COMPLIANCE:
====================

✓ Source code provided (all .lua and .py files)
✓ License file included (LICENSE.txt)
✓ Modifications documented (this file)
✓ Original author credited (Shagu)
✓ Original license preserved (GPL v3.0)
✓ Modified version also GPL v3.0
✓ Changes clearly stated
✓ Copyright notices preserved

REQUIREMENTS MET:
-----------------
1. Provide source code - YES (all files included)
2. License modifications under same license - YES (GPL v3.0)
3. State changes - YES (this file + comments in code)
4. Preserve copyright notices - YES (maintained in all files)
5. Provide license text - YES (LICENSE.txt)

YOU CAN FREELY SHARE THIS SOFTWARE.

================================================================================

THIRD-PARTY DEPENDENCIES:
=========================

Python Dependencies (External):
--------------------------------
- psutil - BSD License (compatible with GPL)
- PyInstaller - GPL License with exception (compatible)
- tkinter - Python Software Foundation License (compatible)

All dependencies are GPL-compatible and properly licensed.

================================================================================

ATTRIBUTION:
============

When sharing, please maintain:
- Original author credit: Shagu
- Original repository: https://github.com/shagu/pfQuest
- License: GNU GPL v3.0
- Statement that this is a modified version
- Link to this MODIFICATIONS.txt file

Suggested attribution text:
"Based on pfQuest by Shagu (https://github.com/shagu/pfQuest)
Enhanced with automated quest capture system.
Licensed under GNU GPL v3.0"

================================================================================

SHARING CHECKLIST:
==================

When distributing this modified version:

□ Include LICENSE.txt file
□ Include MODIFICATIONS.txt file (this file)
□ Include all source code (.lua and .py files)
□ Preserve copyright notices in files
□ State that it's a modified version
□ Credit original author (Shagu)
□ Use GPL v3.0 for your modifications
□ Provide link to original: https://github.com/shagu/pfQuest

ALL REQUIREMENTS MET: You can share this freely!

================================================================================

For questions about GPL compliance, see:
https://www.gnu.org/licenses/gpl-faq.html

================================================================================

